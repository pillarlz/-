<!DOCTYPE html>
<html>

    <head>
        <link rel="stylesheet" type="text/css" href="../css/aui.css" />
        <meta charset="utf-8">
        <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
        <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
        <title>title</title>
        <link rel="stylesheet" type="text/css" href="../css/api.css" />
        <link rel="stylesheet" type="text/css" href="../css/aui-win.css" />
        <link rel="stylesheet" type="text/css" href="../fonts/iconfont.css" />
        <style>
            .edit_log {
                background-color: #b31f23;
                margin-bottom: 20px;
            }
            
            .main {
                width: 90%;
                height: 95%;
                padding-top: 5%;
                margin-left: 5%;
                display: -webkit-box;
                display: -webkit-flex;
                -webkit-box-orient: vertical;
                -webkit-flex-flow: column;
            }
            
            .addpic {
                -webkit-box-flex: 2;
                -webkit-flex: 2;
                border: 1px dotted #777777;
                border-radius: 5%;
                display: -webkit-box;
                display: -webkit-flex;
                -webkit-justify-content: center;
                -webkit-box-pack: center;
                -webkit-align-items: center;
                -webkit-box-align: center;
                font-size: 16px;
                width: 90%;
                margin-left: 5%;
                position: relative;
            }
            
            .addpic img {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
            }
            
            .content {
                -webkit-box-flex: 3;
                -webkit-flex: 3;
            }
            
            .title {
                padding-top: 5%;
            }
            
            .textarea {
                overflow-y: visible;
                padding-left: 5%;
            }
        </style>
    </head>

    <body>
        <div class="main">
            <div class="addpic" id="addPic" tapmode="" onclick="addPicture();">
                <span class="iconfont">&#xe60b;</span>&nbsp;&nbsp;<span>添加封面</span>
                <img src="" alt="">
            </div>
            <div class="content">
                <div class="title">
                    <input type="text" placeholder="标题" style="border: none;" />
                </div>
                <div class="text">
                    <textarea class="textarea" placeholder="正文" rows="8"></textarea>
                </div>
            </div>
        </div>
    </body>
    <script type="text/javascript" src="../script/api.js"></script>
    <script type="text/javascript">
        apiready = function() {

        };

        function addPicture() {

            api.getPicture({
                sourceType: 'library',
                encodingType: 'jpg',
                mediaValue: 'pic',
                destinationType: 'url',
                allowEdit: true,
                quality: 50,

                saveToPhotoAlbum: false
            }, function(ret, err) {
                if (ret) {

                    var img = $api.domAll('#addPic img')[0];
                    img.setAttribute('src', 'file://' + ret.data);
                }
            });
        }
    </script>

</html>
